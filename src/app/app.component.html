<div class="container">
  <div class="header">
    <h1 class="welcome-text">Welcome, {{ currentUser.firstName }} {{ currentUser.lastName }}!</h1>
  </div>
  <div class="content">
    <div class="sidebar">
      <h2>Projects</h2>
      <ul class="project-list">
        <li *ngFor="let project of projects" [class.active]="project === selectedProject" (click)="selectProject(project)">
          {{ project.name }}
        </li>
      </ul>
      <button (click)="addNewProject()">Add new project</button>
    </div>
    <div class="main">
      <h2>Features</h2>
      <ul class="feature-list">
        <li *ngFor="let feature of getFeaturesForSelected()" [class.active]="feature === selectedFeature" (click)="showFeatureDetails(feature)">
          {{ feature.name }}
        </li>
      </ul>
      <button (click)="addNewFeature()">Add feature</button>
    </div>
    <div class="details">
      <h3>Feature Details</h3>
      <div *ngIf="selectedFeature">
        <p>Name: {{ selectedFeature.name }}</p>
        <p>Description: {{ selectedFeature.description }}</p>
        <p>Priority: {{ selectedFeature.priority }}</p>
        <p>Project: {{ selectedFeature.project.name }}</p>
        <p>Owner: {{ selectedFeature.owner }}</p>
        <p>Status: {{ getFeatureStatus(selectedFeature) }}</p>
      </div>
    </div>
    <div class="tasks">
      <h2>Tasks</h2>
      <ul class="task-list">
        <li *ngFor="let task of getTasksForSelected()" [class.active]="task === selectedTask" (click)="showTaskDetails(task)">
          {{ task.name }}
        </li>
      </ul>
    </div>
    <div class="details">
      <h3>Task Details</h3>
      <div *ngIf="selectedTask">
        <p>Name: {{ selectedTask.name }}</p>
        <p>Description: {{ selectedTask.description }}</p>
        <p>Priority: {{ selectedTask.priority }}</p>
        <p>Feature: {{ selectedTask.feature.name }}</p>
        <p>Estimated Completion Time: {{ selectedTask.estimatedCompletionTime }}</p>
        <p>Status:
          <select [(ngModel)]="selectedTask.status" (ngModelChange)="updateTaskStatus(selectedTask)">
            <option value="todo">Todo</option>
            <option value="doing">Doing</option>
            <option value="done">Done</option>
          </select>
        </p>
        <p>Date Added: {{ selectedTask.dateAdded | date }}</p>
        <p>Start Date: {{ selectedTask.startDate | date }}</p>
        <p>End Date: {{ selectedTask.endDate | date }}</p>
        <p>Responsible User: {{ selectedTask.responsibleUser }}</p>
      </div>
    </div>

    </div>
  </div>
